---
import ClockIcon from '@/icons/clock.astro'
import HeartIcon from '@/icons/heart.astro'
import SquareIcon from '@/icons/square.astro'
---

<section
  class='px-12 py-20 h-100-screen flex flex-col items-center justify-center text-center gap-4'
>
  <h1 class='text-5xl mb-4 opacity-90'>XII</h1>
  <small class='font-licorice text-xl mb-12 text-primary-light/60'
    >Tenemos el honor de invitarte a nuestra boda</small
  >

  <div>
    <p class='text-3xl mb-4 text-primary'>Noviembre</p>

    <div class='date flex justify-between items-center gap-4'>
      <div>
        <span>D</span>
        <span>9</span>
      </div>
      <div>
        <span>L</span>
        <span>10</span>
      </div>
      <div>
        <span>M</span>
        <span>11</span>
      </div>
      <div class='relative'>
        <span>M</span>
        <span>12</span>
        <HeartIcon
          class='absolute bottom-0 size-8 opacity-40 text-primary-dark'
        />
      </div>
      <div>
        <span>J</span>
        <span>13</span>
      </div>
      <div>
        <span>V</span>
        <span>14</span>
      </div>
      <div>
        <span>S</span>
        <span>15</span>
      </div>
    </div>
  </div>

  <div class='relative flex items-center justify-center my-14'>
    <p class='text-4xl opacity-90'>02:00 pm</p>
    <ClockIcon class='size-20 absolute opacity-20 text-primary' />
  </div>

  <div class='flex flex-col justify-center items-center'>
    <p class='uppercase mb-4'>Faltan</p>
    <div class='flex justify-center items-center gap-8' id='countdown'>
      <div class='relative flex flex-col items-center'>
        <h3 class='text-4xl' id='days'>--</h3>
        <small class='font-licorice text-lg leading-tight text-primary'
          >Días</small
        >
        <SquareIcon class='absolute -top-3 size-16 opacity-40' />
      </div>
      <div class='relative flex flex-col items-center'>
        <h3 class='text-4xl' id='hours'>--</h3>
        <small class='font-licorice text-lg leading-tight text-primary'
          >Horas</small
        >
        <SquareIcon class='absolute -top-3 size-16 opacity-40' />
      </div>
      <div class='relative flex flex-col items-center'>
        <h3 class='text-4xl' id='minutes'>--</h3>
        <small class='font-licorice text-lg leading-tight text-primary'
          >Minutos</small
        >
        <SquareIcon class='absolute -top-3 size-16 opacity-40' />
      </div>
      <div class='relative flex flex-col items-center'>
        <h3 class='text-4xl' id='seconds'>--</h3>
        <small class='font-licorice text-lg leading-tight text-primary'
          >Segundos</small
        >
        <SquareIcon class='absolute -top-3 size-16 opacity-40' />
      </div>
    </div>
  </div>
</section>

<script>
  const targetDate = new Date('2025-11-12T14:00:00-05:00')

  function updateCountdown() {
    const now = new Date()
    const difference = targetDate.getTime() - now.getTime()

    const daysEl = document.getElementById('days')
    const hoursEl = document.getElementById('hours')
    const minutesEl = document.getElementById('minutes')
    const secondsEl = document.getElementById('seconds')

    if (!daysEl || !hoursEl || !minutesEl || !secondsEl) return

    if (difference <= 0) {
      daysEl.textContent = '00'
      hoursEl.textContent = '00'
      minutesEl.textContent = '00'
      secondsEl.textContent = '00'
      return
    }

    // Calcular días, horas, minutos y segundos
    const days = Math.floor(difference / (1000 * 60 * 60 * 24))
    const hours = Math.floor(
      (difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
    )
    const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60))
    const seconds = Math.floor((difference % (1000 * 60)) / 1000)

    daysEl.textContent = days.toString().padStart(2, '0')
    hoursEl.textContent = hours.toString().padStart(2, '0')
    minutesEl.textContent = minutes.toString().padStart(2, '0')
    secondsEl.textContent = seconds.toString().padStart(2, '0')
  }

  updateCountdown()

  setInterval(updateCountdown, 1000)
</script>

<style>
  .date {
    div {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: var(--text-xl);
    }
    div span:first-child {
      font-family: var(--font-licorice);
    }
  }
</style>
